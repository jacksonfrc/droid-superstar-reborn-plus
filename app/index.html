<!DOCTYPE html>
<html>
<head>


  <title>DROID SUPERSTAR REBORN PLUS</title>

  <link rel="stylesheet" href="css/photon/css/photon.css">
  <link rel="stylesheet" href="css/index.css">
  <link rel="stylesheet" href="css/menu.css">
  <link href='node_modules/dragula/dist/dragula.css' rel='stylesheet' type='text/css' />
  
</head>
<body>

  <script src="js/scaling.js"></script>
  <script src="js/tabs.js"></script>
    <script src="http://code.jquery.com/jquery-latest.js"
        type="text/javascript"></script>

  <div id="vertical-group">

    <div id="tabs" class="tab-spacer tab-group">
      <div id="tab0" class="tab-item active" onclick="activateTab(this)">
        <span class="icon icon-cancel icon-close-tab" onclick="closeTab(this)"></span>
        <input id="tab-name0" type="text" value="New Tab"/>
      </div>
      <div class="tab-item tab-item-fixed" onclick="newTab()">
        <span class="icon icon-plus"></span>
      </div>
    </div>


    <div id="workspace" class="workspace" ondrop="drop(event)" ondragover="allowDrop(event)" >

    </div>

    <div id="components" class="components">
            <nav class = "dropdown-nav">
           <div class="menu-item">
                <h4><a href="#">Component Category A</a></h4>
                <ul>
                     <li draggable="true" ondragstart="drag(event)"><a href="#">Component 1</a></li>
                     <li draggable="true" ondragstart="drag(event)"><a href="#">Component 2</a></li>
                     <li draggable="true" ondragstart="drag(event)"><a href="#">Component 3</a></li>
                </ul>
           </div>
           <div class="menu-item">
                <h4><a href="#">Component Category B</a></h4>
                <ul>
                     <li draggable="true" ondragstart="drag(event)"><a href="#">Component 1</a></li>
                     <li draggable="true" ondragstart="drag(event)"><a href="#">Component 2</a></li>
                     <li draggable="true" ondragstart="drag(event)"><a href="#">Component 3</a></li>
                </ul>
          </div>
          <div class="menu-item">
               <h4><a href="#">Component Category B</a></h4>
               <ul>
                    <li draggable="true" ondragstart="drag(event)"><a href="#">Component 1</a></li>
                    <li draggable="true" ondragstart="drag(event)"><a href="#">Component 2</a></li>
                    <li draggable="true" ondragstart="drag(event)"><a href="#">Component 3</a></li>
               </ul>
         </div>
      </nav>

     
    </div>
    </div>

  </div>

      <script>
function allowDrop(ev) {
  ev.preventDefault();
}

function drag(ev) {
   ev.dataTransfer.setData("text/plain", ev.target.id);

  //ev.dataTransfer.setData("text/html",ev.target.id);
}

function drop(ev) {
  ev.preventDefault();
  //var data=ev.dataTransfer.getData("text/html");
  var data2 = document.createElement('inserted-div');
  data2.innerHTML = ev.dataTransfer.getData("text/html");
  document.getElementById('workspace').appendChild(data2);

}

/*
      var dragSrcEl = null;

  function handleDragStart(e) {
  this.style.opacity = '0.4';  // this / e.target is the source node.

    dragSrcEl = this;

  e.dataTransfer.effectAllowed = 'move';
  e.dataTransfer.setData('text/html', this.innerHTML);
}

function handleDragOver(e) {
  if (e.preventDefault) {
    e.preventDefault(); // Necessary. Allows us to drop.
  }

  e.dataTransfer.dropEffect = 'copy';  // See the section on the DataTransfer object.

  return false;
}

function handleDragEnter(e) {
  // this / e.target is the current hover target.
  this.classList.add('over');
}

function handleDragLeave(e) {
  this.classList.remove('over');  // this / e.target is previous target element.
}

function handleDrop(e) {
  // this/e.target is current target element.

  if (e.stopPropagation) {
    e.stopPropagation(); // Stops some browsers from redirecting.
  }

  // Don't do anything if dropping the same column we're dragging.
  if (dragSrcEl != this) {
    // Set the source column's HTML to the HTML of the column we dropped on.
    //dragSrcEl.innerHTML = this.innerHTML;
    //this.innerHTML = e.dataTransfer.getData('text/html');
    document.querySelectorAll('.workspace').innerHTML = e.dataTransfer.getData('text/html');
  }

  return false;
}

function handleDragEnd(e) {
  // this/e.target is the source node.

  [].forEach.call(cols, function (col) {
    col.classList.remove('over');
  });

    [].forEach.call(dropArea, function (col) {
    col.classList.remove('over');
  });
}

var dropArea = document.querySelectorAll('.workspace');
[].forEach.call(dropArea, function(col) {
  col.addEventListener('dragstart', handleDragStart, false);
  col.addEventListener('dragenter', handleDragEnter, false);
  col.addEventListener('dragover', handleDragOver, false);
  col.addEventListener('dragleave', handleDragLeave, false);
  col.addEventListener('drop', handleDrop, false);
  col.addEventListener('dragend', handleDragEnd, false);
});

var cols = document.querySelectorAll('.drag-test-item');
[].forEach.call(cols, function(col) {
  col.addEventListener('dragstart', handleDragStart, false);
  col.addEventListener('dragenter', handleDragEnter, false);
  col.addEventListener('dragover', handleDragOver, false);
  col.addEventListener('dragleave', handleDragLeave, false);
  col.addEventListener('drop', handleDrop, false);
  col.addEventListener('dragend', handleDragEnd, false);
});
*/
    </script>

  <div id="horizontal-group">

    <div id="tabs" class="tab-spacer-horizontal tab-group">
      <div class="tab-item">
        <span class="icon icon-cancel icon-close-tab"></span>
        Tab
      </div>
      <div class="tab-item active">
        <span class="icon icon-cancel icon-close-tab"></span>
        Tab active
      </div>
      <div class="tab-item">
        <span class="icon icon-cancel icon-close-tab"></span>
        Tab
      </div>
      <div class="tab-item tab-item-fixed">
        <span class="icon icon-plus"></span>
      </div>
    </div>

    <div id="workspace-horizontal" class="workspace-horizontal"></div>

    <div id="components-horizontal" class="components-horizontal">
      <nav class = "dropdown-nav">
			     <div class="menu-item">
			          <h4><a href="#">Component Category A</a></h4>
			          <ul>
			               <li><a href="#">Component 1</a></li>
			               <li><a href="#">Component 2</a></li>
			               <li><a href="#">Component 3</a></li>
			          </ul>
		       </div>
		       <div class="menu-item">
			          <h4><a href="#">Component Category B</a></h4>
			          <ul>
			               <li><a href="#">Component 1</a></li>
			               <li><a href="#">Component 2</a></li>
			               <li><a href="#">Component 3</a></li>
			          </ul>
		      </div>
          <div class="menu-item">
               <h4><a href="#">Component Category B</a></h4>
               <ul>
                    <li><a href="#">Component 1</a></li>
                    <li><a href="#">Component 2</a></li>
                    <li><a href="#">Component 3</a></li>
               </ul>
         </div>
		  </nav>
    </div>

  </div>

</body>
</html>
